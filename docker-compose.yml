version: '3.8'

services:
  app:
    build: .
    container_name: domdarom-app
    ports:
      - "3000:3000"  # üî• –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ—Ä—Ç
    environment:
      - DB_HOST=host.docker.internal  # üî• –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∏–º—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö–æ—Å—Ç—É
      - DB_PORT=5432
      - DB_NAME=club_db
      - DB_USER=dariabayandina
      - DB_PASSWORD=1234
      - PORT=3000
      - NODE_ENV=production
      - YANDEX_EMAIL=d0mdarom@yandex.ru
      - YANDEX_APP_PASSWORD=omsjbmtbawyxdpxm
    extra_hosts:
      - "host.docker.internal:host-gateway"  # üî• –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ localhost —Ö–æ—Å—Ç–∞
    volumes:
      - .:/app
      - /app/node_modules
    restart: unless-stopped